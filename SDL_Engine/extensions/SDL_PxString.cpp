#include<SDL.h>
#include"SDL_PxString.h"


#define GetVarBit(var,n)						(((var)>>(n))&1)

namespace ASCII_px_6x8 {
	const unsigned ch_count = 256;
	const int px_count_horizonal = 6, px_count_vertical = 8;
	//采用 BE 顺序
	const char asciipx6x8[ch_count][px_count_vertical] = {
		'\x70','\x50','\x00','\x28','\x38','\x00','\x10','\x1C',// NUL
		'\x00','\x44','\x00','\x00','\x44','\x38','\x00','\x00',// SOH
		'\x00','\x44','\x00','\x00','\x38','\x44','\x00','\x00',// STX
		'\x28','\x7C','\x7C','\x7C','\x38','\x10','\x00','\x00',// ETX
		'\x10','\x38','\x38','\x7C','\x38','\x38','\x10','\x00',// EOT
		'\x38','\x38','\x10','\x7C','\x7C','\x10','\x38','\x00',// ENQ
		'\x10','\x38','\x38','\x7C','\x7C','\x10','\x38','\x00',// ACK
		'\x00','\x38','\x7C','\x7C','\x7C','\x38','\x00','\x00',// BEL
		'\x7C','\x7C','\x6C','\x44','\x6C','\x7C','\x7C','\x00',// BS
		'\x00','\x38','\x44','\x44','\x44','\x38','\x00','\x00',// HT
		'\x7C','\x6C','\x54','\x38','\x54','\x6C','\x7C','\x00',// LF
		'\x10','\x38','\x54','\x10','\x38','\x44','\x44','\x38',// VT
		'\x38','\x44','\x44','\x38','\x10','\x7C','\x10','\x00',// FF
		'\x10','\x18','\x14','\x14','\x10','\x70','\xF0','\x60',// CR
		'\x0C','\x34','\x24','\x24','\x2C','\x6C','\x60','\x00',// SO
		'\x10','\x54','\x38','\x6C','\x38','\x54','\x10','\x00',// SI
		'\x40','\x60','\x70','\x78','\x70','\x60','\x40','\x00',// DLE
		'\x04','\x0C','\x1C','\x3C','\x1C','\x0C','\x04','\x00',// DC1
		'\x10','\x38','\x54','\x10','\x54','\x38','\x10','\x00',// DC2
		'\x28','\x28','\x28','\x28','\x28','\x00','\x28','\x00',// DC3
		'\x34','\x74','\x74','\x34','\x14','\x14','\x14','\x00',// DC4
		'\x38','\x44','\x30','\x48','\x24','\x18','\x44','\x38',// NAK
		'\x00','\x00','\x00','\x00','\x7C','\x7C','\x00','\x00',// SYN
		'\x10','\x38','\x54','\x10','\x54','\x38','\x10','\x7C',// ETB
		'\x10','\x38','\x54','\x10','\x10','\x10','\x10','\x00',// CAN
		'\x10','\x10','\x10','\x10','\x54','\x38','\x10','\x00',// EM
		'\x00','\x10','\x08','\x7C','\x08','\x10','\x00','\x00',// SUB
		'\x00','\x10','\x20','\x7C','\x20','\x10','\x00','\x00',// ESC
		'\x00','\x40','\x40','\x40','\x40','\x7C','\x00','\x00',// FS
		'\x10','\x20','\x7C','\x20','\x10','\xF8','\x10','\x20',// GS
		'\x00','\x00','\x10','\x38','\x7C','\x00','\x00','\x00',// RS
		'\x00','\x00','\x7C','\x38','\x10','\x00','\x00','\x00',// US
		'\x00','\x00','\x00','\x00','\x00','\x00','\x00','\x00',// 空格
		'\x10','\x10','\x10','\x10','\x10','\x00','\x10','\x00',// !
		'\x24','\x24','\x48','\x00','\x00','\x00','\x00','\x00',// "
		'\x28','\x28','\x7C','\x28','\x7C','\x28','\x28','\x00',// #
		'\x10','\x3C','\x50','\x38','\x14','\x78','\x10','\x00',// $
		'\x60','\x64','\x08','\x10','\x20','\x4C','\x0C','\x00',// %
		'\x30','\x48','\x50','\x20','\x54','\x48','\x34','\x00',// &
		'\x10','\x10','\x20','\x00','\x00','\x00','\x00','\x00',// '
		'\x08','\x10','\x20','\x20','\x20','\x10','\x08','\x00',// (
		'\x20','\x10','\x08','\x08','\x08','\x10','\x20','\x00',// )
		'\x10','\x54','\x38','\x10','\x38','\x54','\x10','\x00',// *
		'\x00','\x10','\x10','\x7C','\x10','\x10','\x00','\x00',// +
		'\x00','\x00','\x00','\x00','\x10','\x10','\x20','\x00',// ,
		'\x00','\x00','\x00','\x7C','\x00','\x00','\x00','\x00',// -
		'\x00','\x00','\x00','\x00','\x00','\x00','\x10','\x00',// .
		'\x04','\x08','\x08','\x10','\x20','\x20','\x40','\x00',// /
		'\x38','\x44','\x4C','\x54','\x64','\x44','\x38','\x00',// 0
		'\x10','\x30','\x10','\x10','\x10','\x10','\x10','\x00',// 1
		'\x38','\x44','\x04','\x18','\x20','\x40','\x7C','\x00',// 2
		'\x38','\x44','\x04','\x18','\x04','\x44','\x38','\x00',// 3
		'\x08','\x18','\x28','\x48','\x7C','\x08','\x08','\x00',// 4
		'\x7C','\x40','\x78','\x44','\x04','\x44','\x38','\x00',// 5
		'\x38','\x44','\x40','\x78','\x44','\x44','\x38','\x00',// 6
		'\x7C','\x04','\x08','\x08','\x10','\x10','\x10','\x00',// 7
		'\x38','\x44','\x44','\x38','\x44','\x44','\x38','\x00',// 8
		'\x38','\x44','\x44','\x3C','\x04','\x44','\x38','\x00',// 9
		'\x00','\x10','\x00','\x00','\x00','\x10','\x00','\x00',// :
		'\x00','\x10','\x00','\x00','\x10','\x10','\x20','\x00',// ;
		'\x04','\x08','\x10','\x20','\x10','\x08','\x04','\x00',// <
		'\x00','\x00','\x7C','\x00','\x7C','\x00','\x00','\x00',// =
		'\x40','\x20','\x10','\x08','\x10','\x20','\x40','\x00',// >
		'\x38','\x44','\x04','\x08','\x10','\x00','\x10','\x00',// ?
		'\x38','\x44','\x4C','\x54','\x5C','\x40','\x3C','\x00',// @
		'\x10','\x28','\x44','\x44','\x7C','\x44','\x44','\x00',// A
		'\x78','\x44','\x44','\x78','\x44','\x44','\x78','\x00',// B
		'\x38','\x44','\x40','\x40','\x40','\x44','\x38','\x00',// C
		'\x78','\x44','\x44','\x44','\x44','\x44','\x78','\x00',// D
		'\x7C','\x40','\x40','\x78','\x40','\x40','\x7C','\x00',// E
		'\x7C','\x40','\x40','\x78','\x40','\x40','\x40','\x00',// F
		'\x38','\x44','\x40','\x4C','\x44','\x44','\x38','\x00',// G
		'\x44','\x44','\x44','\x7C','\x44','\x44','\x44','\x00',// H
		'\x38','\x10','\x10','\x10','\x10','\x10','\x38','\x00',// I
		'\x04','\x04','\x04','\x04','\x04','\x44','\x38','\x00',// J
		'\x44','\x48','\x50','\x60','\x50','\x48','\x44','\x00',// K
		'\x40','\x40','\x40','\x40','\x40','\x40','\x7C','\x00',// L
		'\x44','\x6C','\x54','\x44','\x44','\x44','\x44','\x00',// M
		'\x44','\x64','\x54','\x4C','\x44','\x44','\x44','\x00',// N
		'\x38','\x44','\x44','\x44','\x44','\x44','\x38','\x00',// O
		'\x78','\x44','\x44','\x78','\x40','\x40','\x40','\x00',// P
		'\x38','\x44','\x44','\x44','\x54','\x48','\x34','\x00',// Q
		'\x78','\x44','\x44','\x78','\x50','\x48','\x44','\x00',// R
		'\x38','\x44','\x40','\x38','\x04','\x44','\x38','\x00',// S
		'\x7C','\x10','\x10','\x10','\x10','\x10','\x10','\x00',// T
		'\x44','\x44','\x44','\x44','\x44','\x44','\x38','\x00',// U
		'\x44','\x44','\x44','\x28','\x28','\x10','\x10','\x00',// V
		'\x44','\x44','\x44','\x44','\x54','\x6C','\x44','\x00',// W
		'\x44','\x28','\x28','\x10','\x28','\x28','\x44','\x00',// X
		'\x44','\x28','\x28','\x10','\x10','\x10','\x10','\x00',// Y
		'\x7C','\x04','\x08','\x10','\x20','\x40','\x7C','\x00',// Z
		'\x38','\x20','\x20','\x20','\x20','\x20','\x38','\x00',// [
		'\x40','\x20','\x20','\x10','\x08','\x08','\x04','\x00',// 反斜杠
		'\x38','\x08','\x08','\x08','\x08','\x08','\x38','\x00',// ]
		'\x10','\x28','\x44','\x00','\x00','\x00','\x00','\x00',// ^
		'\x00','\x00','\x00','\x00','\x00','\x00','\x7C','\x00',// _
		'\x20','\x10','\x00','\x00','\x00','\x00','\x00','\x00',// `
		'\x00','\x00','\x38','\x04','\x3C','\x44','\x3C','\x00',// a
		'\x40','\x40','\x78','\x44','\x44','\x44','\x78','\x00',// b
		'\x00','\x00','\x38','\x44','\x40','\x44','\x38','\x00',// c
		'\x04','\x04','\x3C','\x44','\x44','\x44','\x3C','\x00',// d
		'\x00','\x00','\x38','\x44','\x7C','\x40','\x38','\x00',// e
		'\x0C','\x10','\x10','\x7C','\x10','\x10','\x10','\x00',// f
		'\x00','\x00','\x3C','\x44','\x44','\x3C','\x04','\x38',// g
		'\x40','\x40','\x78','\x44','\x44','\x44','\x44','\x00',// h
		'\x10','\x00','\x10','\x10','\x10','\x10','\x10','\x00',// i
		'\x08','\x00','\x08','\x08','\x08','\x08','\x48','\x30',// j
		'\x40','\x40','\x48','\x50','\x60','\x50','\x4C','\x00',// k
		'\x30','\x10','\x10','\x10','\x10','\x10','\x10','\x00',// l
		'\x00','\x00','\x68','\x54','\x54','\x54','\x54','\x00',// m
		'\x00','\x00','\x58','\x64','\x44','\x44','\x44','\x00',// n
		'\x00','\x00','\x38','\x44','\x44','\x44','\x38','\x00',// o
		'\x00','\x00','\x58','\x64','\x44','\x78','\x40','\x40',// p
		'\x00','\x00','\x34','\x4C','\x44','\x3C','\x04','\x04',// q
		'\x00','\x00','\x58','\x64','\x40','\x40','\x40','\x00',// r
		'\x00','\x00','\x3C','\x40','\x38','\x04','\x78','\x00',// s
		'\x20','\x20','\x78','\x20','\x20','\x24','\x18','\x00',// t
		'\x00','\x00','\x44','\x44','\x44','\x4C','\x34','\x00',// u
		'\x00','\x00','\x44','\x44','\x28','\x28','\x10','\x00',// v
		'\x00','\x00','\x44','\x54','\x54','\x28','\x28','\x00',// w
		'\x00','\x00','\x44','\x28','\x10','\x28','\x44','\x00',// x
		'\x00','\x00','\x44','\x44','\x44','\x3C','\x04','\x38',// y
		'\x00','\x00','\x7C','\x08','\x10','\x20','\x7C','\x00',// z
		'\x08','\x10','\x10','\x20','\x10','\x10','\x08','\x00',// {
		'\x10','\x10','\x10','\x10','\x10','\x10','\x10','\x00',// |
		'\x20','\x10','\x10','\x08','\x10','\x10','\x20','\x00',// }
		'\x20','\x54','\x08','\x00','\x00','\x00','\x00','\x00',// ~
		'\x00','\x10','\x28','\x44','\x44','\x7C','\x00','\x00',// DEL
		'\x38','\x44','\x40','\x40','\x44','\x38','\x10','\x30',// 以下为扩展 ASCII 码字符，此处采用 OEM 字符集
		'\x28','\x00','\x44','\x44','\x44','\x4C','\x34','\x00',
		'\x08','\x10','\x00','\x38','\x44','\x7C','\x40','\x38',
		'\x10','\x28','\x00','\x38','\x04','\x3C','\x44','\x3C',
		'\x28','\x00','\x38','\x04','\x3C','\x44','\x3C','\x00',
		'\x20','\x10','\x00','\x38','\x04','\x3C','\x44','\x3C',
		'\x10','\x28','\x10','\x38','\x04','\x3C','\x44','\x3C',
		'\x00','\x38','\x44','\x40','\x44','\x38','\x10','\x30',
		'\x10','\x28','\x00','\x38','\x44','\x7C','\x40','\x38',
		'\x28','\x00','\x38','\x44','\x7C','\x40','\x38','\x00',
		'\x20','\x10','\x00','\x38','\x44','\x7C','\x40','\x38',
		'\x28','\x00','\x10','\x10','\x10','\x10','\x10','\x00',
		'\x10','\x28','\x00','\x10','\x10','\x10','\x10','\x00',
		'\x20','\x10','\x00','\x10','\x10','\x10','\x10','\x00',
		'\x28','\x00','\x10','\x28','\x44','\x7C','\x44','\x00',
		'\x10','\x28','\x10','\x10','\x28','\x44','\x7C','\x44',
		'\x08','\x10','\x00','\x7C','\x40','\x78','\x40','\x7C',
		'\x00','\x00','\x68','\x14','\x3C','\x50','\x3C','\x00',
		'\x3C','\x50','\x90','\xFC','\x90','\x90','\x9C','\x00',
		'\x10','\x28','\x00','\x38','\x44','\x44','\x38','\x00',
		'\x28','\x00','\x38','\x44','\x44','\x44','\x38','\x00',
		'\x20','\x10','\x00','\x38','\x44','\x44','\x38','\x00',
		'\x10','\x28','\x00','\x44','\x44','\x4C','\x34','\x00',
		'\x20','\x10','\x44','\x44','\x44','\x4C','\x34','\x00',
		'\x28','\x00','\x44','\x44','\x44','\x3C','\x04','\x38',
		'\x28','\x00','\x38','\x44','\x44','\x44','\x44','\x38',
		'\x28','\x00','\x44','\x44','\x44','\x44','\x44','\x38',
		'\x10','\x38','\x54','\x50','\x50','\x54','\x38','\x10',
		'\x10','\x28','\x20','\x70','\x20','\x24','\x78','\x00',
		'\x44','\x28','\x10','\x7C','\x10','\x7C','\x10','\x00',
		'\xC0','\xA0','\xC0','\x80','\x4C','\xE8','\x44','\x6C',
		'\x08','\x14','\x10','\x7C','\x10','\x10','\x50','\x20',
		'\x08','\x10','\x00','\x38','\x04','\x3C','\x44','\x3C',
		'\x08','\x10','\x00','\x10','\x10','\x10','\x10','\x00',
		'\x08','\x10','\x00','\x38','\x44','\x44','\x38','\x00',
		'\x08','\x10','\x44','\x44','\x44','\x4C','\x34','\x00',
		'\x28','\x50','\x00','\x58','\x64','\x44','\x44','\x00',
		'\x28','\x50','\x00','\x44','\x64','\x54','\x4C','\x44',
		'\x18','\x04','\x1C','\x24','\x1C','\x00','\x00','\x00',
		'\x18','\x24','\x24','\x24','\x18','\x00','\x00','\x00',
		'\x10','\x00','\x10','\x20','\x40','\x44','\x38','\x00',
		'\x00','\x00','\x00','\x7C','\x40','\x40','\x00','\x00',
		'\x00','\x00','\x00','\x7C','\x04','\x04','\x00','\x00',
		'\x80','\x88','\x90','\x20','\x58','\x84','\x08','\x1C',
		'\x80','\x88','\x90','\x20','\x54','\x94','\x1C','\x04',
		'\x00','\x10','\x00','\x10','\x10','\x10','\x10','\x10',
		'\x00','\x24','\x48','\x90','\x48','\x24','\x00','\x00',
		'\x00','\x90','\x48','\x24','\x48','\x90','\x00','\x00',
		'\x54','\x00','\xA8','\x00','\x54','\x00','\xA8','\x00',
		'\xA8','\x54','\xA8','\x54','\xA8','\x54','\xA8','\x54',
		'\xA8','\xFC','\x54','\xFC','\xA8','\xFC','\x54','\xFC',
		'\x10','\x10','\x10','\x10','\x10','\x10','\x10','\x10',
		'\x10','\x10','\x10','\xF0','\x10','\x10','\x10','\x10',
		'\x10','\x10','\xF0','\x10','\xF0','\x10','\x10','\x10',
		'\x28','\x28','\x28','\xE8','\x28','\x28','\x28','\x28',
		'\x00','\x00','\x00','\xF8','\x28','\x28','\x28','\x28',
		'\x00','\x00','\xF0','\x10','\xF0','\x10','\x10','\x10',
		'\x28','\x28','\xE8','\x08','\xE8','\x28','\x28','\x28',
		'\x28','\x28','\x28','\x28','\x28','\x28','\x28','\x28',
		'\x00','\x00','\xF8','\x08','\xE8','\x28','\x28','\x28',
		'\x28','\x28','\xE8','\x08','\xF8','\x00','\x00','\x00',
		'\x28','\x28','\x28','\xF8','\x00','\x00','\x00','\x00',
		'\x10','\x10','\xF0','\x10','\xF0','\x00','\x00','\x00',
		'\x00','\x00','\x00','\xF0','\x10','\x10','\x10','\x10',
		'\x10','\x10','\x10','\x1C','\x00','\x00','\x00','\x00',
		'\x10','\x10','\x10','\xFC','\x00','\x00','\x00','\x00',
		'\x00','\x00','\x00','\xFC','\x10','\x10','\x10','\x10',
		'\x10','\x10','\x10','\x1C','\x10','\x10','\x10','\x10',
		'\x00','\x00','\x00','\xFC','\x00','\x00','\x00','\x00',
		'\x10','\x10','\x10','\xFC','\x10','\x10','\x10','\x10',
		'\x10','\x10','\x1C','\x10','\x1C','\x10','\x10','\x10',
		'\x28','\x28','\x28','\x2C','\x28','\x28','\x28','\x28',
		'\x28','\x28','\x2C','\x20','\x3C','\x00','\x00','\x00',
		'\x00','\x00','\x3C','\x20','\x2C','\x28','\x28','\x28',
		'\x28','\x28','\xEC','\x00','\xFC','\x00','\x00','\x00',
		'\x00','\x00','\xFC','\x00','\xEC','\x28','\x28','\x28',
		'\x28','\x28','\x2C','\x20','\x2C','\x28','\x28','\x28',
		'\x00','\x00','\xFC','\x00','\xFC','\x00','\x00','\x00',
		'\x28','\x28','\xEC','\x00','\xEC','\x28','\x28','\x28',
		'\x10','\x10','\xFC','\x00','\xFC','\x00','\x00','\x00',
		'\x28','\x28','\x28','\xFC','\x00','\x00','\x00','\x00',
		'\x00','\x00','\xFC','\x00','\xFC','\x10','\x10','\x10',
		'\x00','\x00','\x00','\xFC','\x28','\x28','\x28','\x28',
		'\x28','\x28','\x28','\x3C','\x00','\x00','\x00','\x00',
		'\x10','\x10','\x1C','\x10','\x1C','\x00','\x00','\x00',
		'\x00','\x00','\x1C','\x10','\x1C','\x10','\x10','\x10',
		'\x00','\x00','\x00','\x3C','\x28','\x28','\x28','\x28',
		'\x28','\x28','\x28','\xFC','\x28','\x28','\x28','\x28',
		'\x10','\x10','\xFC','\x10','\xFC','\x10','\x10','\x10',
		'\x10','\x10','\x10','\xF0','\x00','\x00','\x00','\x00',
		'\x00','\x00','\x00','\x1C','\x10','\x10','\x10','\x10',
		'\xFC','\xFC','\xFC','\xFC','\xFC','\xFC','\xFC','\xFC',
		'\x00','\x00','\x00','\x00','\xFC','\xFC','\xFC','\xFC',
		'\xE0','\xE0','\xE0','\xE0','\xE0','\xE0','\xE0','\xE0',
		'\x1C','\x1C','\x1C','\x1C','\x1C','\x1C','\x1C','\x1C',
		'\xFC','\xFC','\xFC','\xFC','\x00','\x00','\x00','\x00',
		'\x00','\x00','\x34','\x4C','\x48','\x48','\x34','\x00',
		'\x00','\x18','\x24','\x28','\x24','\x44','\x58','\x40',
		'\x7C','\x40','\x40','\x40','\x40','\x40','\x40','\x00',
		'\x00','\x00','\x7C','\x28','\x28','\x28','\x4C','\x00',
		'\x7C','\x40','\x20','\x10','\x20','\x40','\x7C','\x00',
		'\x00','\x00','\x3C','\x48','\x48','\x48','\x30','\x00',
		'\x00','\x00','\x44','\x44','\x44','\x4C','\x74','\x40',
		'\x00','\x00','\x7C','\x10','\x10','\x10','\x08','\x00',
		'\x10','\x38','\x54','\x54','\x54','\x38','\x10','\x00',
		'\x38','\x44','\x44','\x7C','\x44','\x44','\x38','\x00',
		'\x38','\x44','\x44','\x44','\x44','\x28','\x6C','\x00',
		'\x3C','\x20','\x10','\x28','\x48','\x48','\x30','\x00',
		'\x00','\x00','\x28','\x54','\x28','\x00','\x00','\x00',
		'\x00','\x00','\x48','\x54','\x54','\x38','\x10','\x10',
		'\x00','\x00','\x38','\x44','\x30','\x44','\x38','\x00',
		'\x38','\x44','\x44','\x44','\x44','\x44','\x44','\x00',
		'\x00','\x7C','\x00','\x7C','\x00','\x7C','\x00','\x00',
		'\x10','\x10','\x7C','\x10','\x10','\x00','\x7C','\x00',
		'\xC0','\x30','\x0C','\x30','\xC0','\x0C','\x30','\xC0',
		'\x0C','\x30','\xC0','\x30','\x0C','\xC0','\x30','\x0C',
		'\x08','\x14','\x10','\x10','\x10','\x10','\x10','\x10',
		'\x10','\x10','\x10','\x10','\x10','\x10','\x50','\x20',
		'\x00','\x10','\x00','\x7C','\x00','\x10','\x00','\x00',
		'\x00','\x20','\x54','\x08','\x20','\x54','\x08','\x00',
		'\x10','\x28','\x10','\x00','\x00','\x00','\x00','\x00',
		'\x00','\x00','\x10','\x38','\x10','\x00','\x00','\x00',
		'\x00','\x00','\x00','\x10','\x00','\x00','\x00','\x00',
		'\x1C','\x10','\x10','\x20','\xA0','\x60','\x20','\x00',
		'\x30','\x28','\x28','\x00','\x00','\x00','\x00','\x00',
		'\x30','\x48','\x10','\x20','\x78','\x00','\x00','\x00',
		'\x00','\x7C','\x7C','\x7C','\x7C','\x7C','\x00','\x00',
		'\x00','\x00','\x00','\x00','\x00','\x44','\x7C','\x00'
	};
	const char asciipx6x8_notdefined[px_count_vertical] = {
		'\x7C','\x44','\x44','\x44','\x44','\x44','\x7C','\x00' // 未定义的字符
	};

	//绘制单个字符的点阵
	//字符不存在返回 -1, 否则为 0
	int DrawPxChar(SDL_Renderer *renderer, unsigned ch, int x, int y, int pxsize)
	{
		SDL_Rect rect = { x,y,pxsize,pxsize };
		for (int j = 0; j < px_count_vertical; j++)
		{
			for (int i = 0; i < px_count_horizonal; i++)
			{
				if (ch < ch_count)
				{
					//int size = sizeof(asciipx6x8[ch][j]);
					if (GetVarBit(asciipx6x8[ch][j], 8 * sizeof(asciipx6x8[ch][j]) - i - 1))
						SDL_RenderFillRect(renderer, &rect);
				}
				else
				{
					if (GetVarBit(asciipx6x8_notdefined[j], 8 * sizeof(asciipx6x8_notdefined[j]) - i - 1))
						SDL_RenderFillRect(renderer, &rect);
				}
				rect.x += pxsize;
			}
			rect.y += pxsize;
			rect.x = x;
		}
		return ch < ch_count ? 0 : -1;
	}

	//绘制点阵字符串
	//str: 要显示的字符串
	//strsize: 字符串长度（通过 SDL_arraysize 获取）//小牛牛注明 不建议这么使用
	//x, y: 文字左上角的座标
	//pxsize: 单个像素的边长
	//color: 填充颜色
	//multiline: 是否允许换行（默认允许）
	//字符不存在返回 -1, 否则为 0
	int DrawPxString(SDL_Renderer *renderer, const char *str, int strsize, int x, int y, int pxsize, const SDL_Color color, bool multiline)
	{
		const int ox = x;
		int ret = 0;
		//SDL_Color prevcolor;
		//SDL_GetRenderDrawColor(renderer, &prevcolor.r, &prevcolor.g, &prevcolor.b, &prevcolor.a);
		SDL_SetRenderDrawColor(renderer, color.r, color.g, color.b, color.a);
		for (int i = 0; i < strsize; i++)
		{
			if (str[i] == '\0')
			{
				break;
			}
			else if (str[i] == '\n'&&multiline)
			{
				x = ox;
				y += px_count_vertical*pxsize;
			}
			else
			{
				ret |= DrawPxChar(renderer, str[i]&0xFF, x, y, pxsize);
				x += px_count_horizonal*pxsize;
			}
		}
		//SDL_SetRenderDrawColor(renderer, prevcolor.r, prevcolor.g, prevcolor.b, prevcolor.a);
		return ret;
	}
}
